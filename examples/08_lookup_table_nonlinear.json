{
  "id": "example-lookup-table",
  "metadata": {
    "name": "Lookup Table - Motor Torque Curve",
    "description": "Demonstrates 1D lookup table modeling a DC motor torque-speed characteristic. Shows how lookup tables implement empirical data relationships. Common in motor control, engine calibration, and sensor linearization. Reference: https://www.mathworks.com/help/simulink/slref/1dlookuptable.html",
    "author": "LibreSim Examples",
    "createdAt": "2024-01-01T00:00:00Z",
    "modifiedAt": "2024-01-01T00:00:00Z",
    "version": "1.0.0"
  },
  "blocks": [
    {
      "id": "ramp1",
      "type": "ramp",
      "name": "Speed Command",
      "position": { "x": 50, "y": 180 },
      "parameters": {
        "slope": 100,
        "startTime": 0,
        "initialOutput": 0
      },
      "inputPorts": [],
      "outputPorts": [
        { "id": "ramp1-out", "name": "out", "dataType": "double", "dimensions": [1] }
      ]
    },
    {
      "id": "lut_torque",
      "type": "lookup_table_1d",
      "name": "Torque vs Speed",
      "position": { "x": 250, "y": 100 },
      "parameters": {
        "xData": [0, 200, 400, 600, 800, 1000, 1200, 1400, 1600, 1800, 2000],
        "yData": [10.0, 9.8, 9.5, 9.0, 8.3, 7.5, 6.5, 5.3, 4.0, 2.5, 1.0]
      },
      "inputPorts": [
        { "id": "lut_torque-in", "name": "in", "dataType": "double", "dimensions": [1] }
      ],
      "outputPorts": [
        { "id": "lut_torque-out", "name": "out", "dataType": "double", "dimensions": [1] }
      ]
    },
    {
      "id": "lut_efficiency",
      "type": "lookup_table_1d",
      "name": "Efficiency vs Speed",
      "position": { "x": 250, "y": 260 },
      "parameters": {
        "xData": [0, 200, 400, 600, 800, 1000, 1200, 1400, 1600, 1800, 2000],
        "yData": [0.0, 0.45, 0.70, 0.82, 0.88, 0.92, 0.90, 0.85, 0.78, 0.68, 0.55]
      },
      "inputPorts": [
        { "id": "lut_efficiency-in", "name": "in", "dataType": "double", "dimensions": [1] }
      ],
      "outputPorts": [
        { "id": "lut_efficiency-out", "name": "out", "dataType": "double", "dimensions": [1] }
      ]
    },
    {
      "id": "product1",
      "type": "product",
      "name": "Power",
      "position": { "x": 450, "y": 180 },
      "parameters": {
        "inputs": "**"
      },
      "inputPorts": [
        { "id": "product1-in1", "name": "in1", "dataType": "double", "dimensions": [1] },
        { "id": "product1-in2", "name": "in2", "dataType": "double", "dimensions": [1] }
      ],
      "outputPorts": [
        { "id": "product1-out", "name": "out", "dataType": "double", "dimensions": [1] }
      ]
    },
    {
      "id": "scope_speed",
      "type": "scope",
      "name": "Speed (RPM)",
      "position": { "x": 620, "y": 50 },
      "parameters": {
        "numInputs": 1
      },
      "inputPorts": [
        { "id": "scope_speed-in1", "name": "Speed", "dataType": "double", "dimensions": [1] }
      ],
      "outputPorts": []
    },
    {
      "id": "scope_torque",
      "type": "scope",
      "name": "Torque (N·m)",
      "position": { "x": 620, "y": 130 },
      "parameters": {
        "numInputs": 1
      },
      "inputPorts": [
        { "id": "scope_torque-in1", "name": "Torque", "dataType": "double", "dimensions": [1] }
      ],
      "outputPorts": []
    },
    {
      "id": "scope_efficiency",
      "type": "scope",
      "name": "Efficiency (0-1)",
      "position": { "x": 620, "y": 210 },
      "parameters": {
        "numInputs": 1
      },
      "inputPorts": [
        { "id": "scope_efficiency-in1", "name": "Efficiency", "dataType": "double", "dimensions": [1] }
      ],
      "outputPorts": []
    },
    {
      "id": "scope_power",
      "type": "scope",
      "name": "Power (T×η)",
      "position": { "x": 620, "y": 290 },
      "parameters": {
        "numInputs": 1
      },
      "inputPorts": [
        { "id": "scope_power-in1", "name": "Power", "dataType": "double", "dimensions": [1] }
      ],
      "outputPorts": []
    }
  ],
  "connections": [
    {
      "id": "conn1",
      "sourceBlockId": "ramp1",
      "sourcePortId": "ramp1-out",
      "targetBlockId": "lut_torque",
      "targetPortId": "lut_torque-in"
    },
    {
      "id": "conn2",
      "sourceBlockId": "ramp1",
      "sourcePortId": "ramp1-out",
      "targetBlockId": "lut_efficiency",
      "targetPortId": "lut_efficiency-in"
    },
    {
      "id": "conn3",
      "sourceBlockId": "lut_torque",
      "sourcePortId": "lut_torque-out",
      "targetBlockId": "product1",
      "targetPortId": "product1-in1"
    },
    {
      "id": "conn4",
      "sourceBlockId": "lut_efficiency",
      "sourcePortId": "lut_efficiency-out",
      "targetBlockId": "product1",
      "targetPortId": "product1-in2"
    },
    {
      "id": "conn5",
      "sourceBlockId": "ramp1",
      "sourcePortId": "ramp1-out",
      "targetBlockId": "scope_speed",
      "targetPortId": "scope_speed-in1"
    },
    {
      "id": "conn6",
      "sourceBlockId": "lut_torque",
      "sourcePortId": "lut_torque-out",
      "targetBlockId": "scope_torque",
      "targetPortId": "scope_torque-in1"
    },
    {
      "id": "conn7",
      "sourceBlockId": "lut_efficiency",
      "sourcePortId": "lut_efficiency-out",
      "targetBlockId": "scope_efficiency",
      "targetPortId": "scope_efficiency-in1"
    },
    {
      "id": "conn8",
      "sourceBlockId": "product1",
      "sourcePortId": "product1-out",
      "targetBlockId": "scope_power",
      "targetPortId": "scope_power-in1"
    }
  ],
  "simulationConfig": {
    "solver": "rk4",
    "startTime": 0,
    "stopTime": 20,
    "stepSize": 0.01
  }
}
