import type { Model } from '../types/model'

export interface ExampleInfo {
  id: string
  name: string
  description: string
  category: 'basic' | 'control' | 'signal' | 'advanced'
}

export const exampleList: ExampleInfo[] = [
  {
    id: '01_sine_wave_basic',
    name: 'Sine Wave Basic',
    description: 'Basic sine wave visualization',
    category: 'basic',
  },
  {
    id: '02_first_order_step_response',
    name: 'First-Order Step Response',
    description: 'First-order system step response',
    category: 'basic',
  },
  {
    id: '03_pid_controller',
    name: 'PID Controller',
    description: 'PID control of second-order plant',
    category: 'control',
  },
  {
    id: '04_mass_spring_damper',
    name: 'Mass-Spring-Damper',
    description: 'Mechanical system simulation',
    category: 'control',
  },
  {
    id: '05_signal_filtering',
    name: 'Signal Filtering',
    description: 'Low-pass filter demonstration',
    category: 'signal',
  },
  {
    id: '06_kalman_filter_estimation',
    name: 'Kalman Filter',
    description: 'State estimation with Kalman filter',
    category: 'advanced',
  },
  {
    id: '07_thermostat_relay_control',
    name: 'Thermostat Relay',
    description: 'Bang-bang/relay control',
    category: 'control',
  },
  {
    id: '08_lookup_table_nonlinear',
    name: 'Lookup Table',
    description: 'Nonlinear function via lookup table',
    category: 'signal',
  },
  {
    id: '09_second_order_damping',
    name: 'Second-Order Damping',
    description: 'Damping ratio comparison',
    category: 'basic',
  },
  {
    id: '10_rate_limiting_quantization',
    name: 'Rate Limiting',
    description: 'Rate limiter and quantization effects',
    category: 'signal',
  },
]

// Embedded example models - since we can't dynamically load files in the browser
// we embed the most commonly used examples directly
export const embeddedExamples: Record<string, Model> = {
  '01_sine_wave_basic': {
    id: 'example-sine-wave',
    metadata: {
      name: 'Sine Wave Basic',
      description: 'A simple sine wave generator connected to a scope for visualization. Reference: https://www.mathworks.com/help/simulink/slref/sinewave.html',
      author: 'LibreSim Examples',
      createdAt: '2024-01-01T00:00:00Z',
      modifiedAt: '2024-01-01T00:00:00Z',
      version: '1.0.0',
    },
    blocks: [
      {
        id: 'sine1',
        type: 'sine_wave',
        name: 'Sine',
        position: { x: 100, y: 150 },
        parameters: { amplitude: 1, frequency: 1, phase: 0, bias: 0 },
        inputPorts: [],
        outputPorts: [{ id: 'sine1-out', name: 'out', dataType: 'double', dimensions: [1] }],
      },
      {
        id: 'scope1',
        type: 'scope',
        name: 'Scope',
        position: { x: 350, y: 150 },
        parameters: { numInputs: 1 },
        inputPorts: [{ id: 'scope1-in1', name: 'in1', dataType: 'double', dimensions: [1] }],
        outputPorts: [],
      },
    ],
    connections: [
      { id: 'conn1', sourceBlockId: 'sine1', sourcePortId: 'sine1-out', targetBlockId: 'scope1', targetPortId: 'scope1-in1' },
    ],
    simulationConfig: { solver: 'rk4', startTime: 0, stopTime: 10, stepSize: 0.01 },
  },
  '02_first_order_step_response': {
    id: 'example-first-order',
    metadata: {
      name: 'First-Order Step Response',
      description: 'Step response of a first-order system G(s) = 1/(s+1). Reference: https://www.mathworks.com/help/simulink/slref/transferfcn.html',
      author: 'LibreSim Examples',
      createdAt: '2024-01-01T00:00:00Z',
      modifiedAt: '2024-01-01T00:00:00Z',
      version: '1.0.0',
    },
    blocks: [
      {
        id: 'step1',
        type: 'step',
        name: 'Step',
        position: { x: 100, y: 150 },
        parameters: { stepTime: 1.0, initialValue: 0, finalValue: 1 },
        inputPorts: [],
        outputPorts: [{ id: 'step1-out', name: 'out', dataType: 'double', dimensions: [1] }],
      },
      {
        id: 'tf1',
        type: 'transfer_function',
        name: 'G(s)',
        position: { x: 280, y: 150 },
        parameters: { numerator: [1], denominator: [1, 1] },
        inputPorts: [{ id: 'tf1-in', name: 'in', dataType: 'double', dimensions: [1] }],
        outputPorts: [{ id: 'tf1-out', name: 'out', dataType: 'double', dimensions: [1] }],
      },
      {
        id: 'scope1',
        type: 'scope',
        name: 'Response',
        position: { x: 480, y: 150 },
        parameters: { numInputs: 2 },
        inputPorts: [
          { id: 'scope1-in1', name: 'in1', dataType: 'double', dimensions: [1] },
          { id: 'scope1-in2', name: 'in2', dataType: 'double', dimensions: [1] },
        ],
        outputPorts: [],
      },
    ],
    connections: [
      { id: 'conn1', sourceBlockId: 'step1', sourcePortId: 'step1-out', targetBlockId: 'tf1', targetPortId: 'tf1-in' },
      { id: 'conn2', sourceBlockId: 'step1', sourcePortId: 'step1-out', targetBlockId: 'scope1', targetPortId: 'scope1-in1' },
      { id: 'conn3', sourceBlockId: 'tf1', sourcePortId: 'tf1-out', targetBlockId: 'scope1', targetPortId: 'scope1-in2' },
    ],
    simulationConfig: { solver: 'rk4', startTime: 0, stopTime: 10, stepSize: 0.01 },
  },
  '03_pid_controller': {
    id: 'example-pid-controller',
    metadata: {
      name: 'PID Controller',
      description: 'Closed-loop PID control of a second-order plant. Reference: https://www.mathworks.com/help/simulink/slref/pidcontroller.html',
      author: 'LibreSim Examples',
      createdAt: '2024-01-01T00:00:00Z',
      modifiedAt: '2024-01-01T00:00:00Z',
      version: '1.0.0',
    },
    blocks: [
      {
        id: 'step1',
        type: 'step',
        name: 'Reference',
        position: { x: 50, y: 150 },
        parameters: { stepTime: 1.0, initialValue: 0, finalValue: 1 },
        inputPorts: [],
        outputPorts: [{ id: 'step1-out', name: 'out', dataType: 'double', dimensions: [1] }],
      },
      {
        id: 'sum1',
        type: 'sum',
        name: 'Error',
        position: { x: 180, y: 150 },
        parameters: { signs: '+-' },
        inputPorts: [
          { id: 'sum1-in1', name: 'in1', dataType: 'double', dimensions: [1] },
          { id: 'sum1-in2', name: 'in2', dataType: 'double', dimensions: [1] },
        ],
        outputPorts: [{ id: 'sum1-out', name: 'out', dataType: 'double', dimensions: [1] }],
      },
      {
        id: 'pid1',
        type: 'pid_controller',
        name: 'PID',
        position: { x: 310, y: 150 },
        parameters: { Kp: 10, Ki: 5, Kd: 2, N: 100 },
        inputPorts: [{ id: 'pid1-in', name: 'in', dataType: 'double', dimensions: [1] }],
        outputPorts: [{ id: 'pid1-out', name: 'out', dataType: 'double', dimensions: [1] }],
      },
      {
        id: 'plant1',
        type: 'transfer_function',
        name: 'Plant',
        position: { x: 450, y: 150 },
        parameters: { numerator: [1], denominator: [1, 2, 1] },
        inputPorts: [{ id: 'plant1-in', name: 'in', dataType: 'double', dimensions: [1] }],
        outputPorts: [{ id: 'plant1-out', name: 'out', dataType: 'double', dimensions: [1] }],
      },
      {
        id: 'scope1',
        type: 'scope',
        name: 'Response',
        position: { x: 620, y: 150 },
        parameters: { numInputs: 2 },
        inputPorts: [
          { id: 'scope1-in1', name: 'in1', dataType: 'double', dimensions: [1] },
          { id: 'scope1-in2', name: 'in2', dataType: 'double', dimensions: [1] },
        ],
        outputPorts: [],
      },
    ],
    connections: [
      { id: 'conn1', sourceBlockId: 'step1', sourcePortId: 'step1-out', targetBlockId: 'sum1', targetPortId: 'sum1-in1' },
      { id: 'conn2', sourceBlockId: 'sum1', sourcePortId: 'sum1-out', targetBlockId: 'pid1', targetPortId: 'pid1-in' },
      { id: 'conn3', sourceBlockId: 'pid1', sourcePortId: 'pid1-out', targetBlockId: 'plant1', targetPortId: 'plant1-in' },
      { id: 'conn4', sourceBlockId: 'plant1', sourcePortId: 'plant1-out', targetBlockId: 'sum1', targetPortId: 'sum1-in2' },
      { id: 'conn5', sourceBlockId: 'step1', sourcePortId: 'step1-out', targetBlockId: 'scope1', targetPortId: 'scope1-in1' },
      { id: 'conn6', sourceBlockId: 'plant1', sourcePortId: 'plant1-out', targetBlockId: 'scope1', targetPortId: 'scope1-in2' },
    ],
    simulationConfig: { solver: 'rk4', startTime: 0, stopTime: 15, stepSize: 0.01 },
  },
  '04_mass_spring_damper': {
    id: 'example-mass-spring-damper',
    metadata: {
      name: 'Mass-Spring-Damper',
      description: 'Mechanical vibration system simulation. Reference: https://www.mathworks.com/help/simscape/ug/mass-spring-damper-in-simulink-and-simscape.html',
      author: 'LibreSim Examples',
      createdAt: '2024-01-01T00:00:00Z',
      modifiedAt: '2024-01-01T00:00:00Z',
      version: '1.0.0',
    },
    blocks: [
      {
        id: 'step1',
        type: 'step',
        name: 'Force',
        position: { x: 50, y: 150 },
        parameters: { stepTime: 0.5, initialValue: 0, finalValue: 10 },
        inputPorts: [],
        outputPorts: [{ id: 'step1-out', name: 'out', dataType: 'double', dimensions: [1] }],
      },
      {
        id: 'sum1',
        type: 'sum',
        name: 'Sum',
        position: { x: 180, y: 150 },
        parameters: { signs: '+--' },
        inputPorts: [
          { id: 'sum1-in1', name: 'in1', dataType: 'double', dimensions: [1] },
          { id: 'sum1-in2', name: 'in2', dataType: 'double', dimensions: [1] },
          { id: 'sum1-in3', name: 'in3', dataType: 'double', dimensions: [1] },
        ],
        outputPorts: [{ id: 'sum1-out', name: 'out', dataType: 'double', dimensions: [1] }],
      },
      {
        id: 'gain_m',
        type: 'gain',
        name: '1/m',
        position: { x: 300, y: 150 },
        parameters: { gain: 1 },
        inputPorts: [{ id: 'gain_m-in', name: 'in', dataType: 'double', dimensions: [1] }],
        outputPorts: [{ id: 'gain_m-out', name: 'out', dataType: 'double', dimensions: [1] }],
      },
      {
        id: 'int1',
        type: 'integrator',
        name: 'Velocity',
        position: { x: 420, y: 150 },
        parameters: { initialCondition: 0 },
        inputPorts: [{ id: 'int1-in', name: 'in', dataType: 'double', dimensions: [1] }],
        outputPorts: [{ id: 'int1-out', name: 'out', dataType: 'double', dimensions: [1] }],
      },
      {
        id: 'int2',
        type: 'integrator',
        name: 'Position',
        position: { x: 540, y: 150 },
        parameters: { initialCondition: 0 },
        inputPorts: [{ id: 'int2-in', name: 'in', dataType: 'double', dimensions: [1] }],
        outputPorts: [{ id: 'int2-out', name: 'out', dataType: 'double', dimensions: [1] }],
      },
      {
        id: 'gain_b',
        type: 'gain',
        name: 'b (damping)',
        position: { x: 420, y: 280 },
        parameters: { gain: 2 },
        inputPorts: [{ id: 'gain_b-in', name: 'in', dataType: 'double', dimensions: [1] }],
        outputPorts: [{ id: 'gain_b-out', name: 'out', dataType: 'double', dimensions: [1] }],
      },
      {
        id: 'gain_k',
        type: 'gain',
        name: 'k (spring)',
        position: { x: 540, y: 280 },
        parameters: { gain: 10 },
        inputPorts: [{ id: 'gain_k-in', name: 'in', dataType: 'double', dimensions: [1] }],
        outputPorts: [{ id: 'gain_k-out', name: 'out', dataType: 'double', dimensions: [1] }],
      },
      {
        id: 'scope1',
        type: 'scope',
        name: 'Scope',
        position: { x: 680, y: 150 },
        parameters: { numInputs: 2 },
        inputPorts: [
          { id: 'scope1-in1', name: 'Position', dataType: 'double', dimensions: [1] },
          { id: 'scope1-in2', name: 'Velocity', dataType: 'double', dimensions: [1] },
        ],
        outputPorts: [],
      },
    ],
    connections: [
      { id: 'conn1', sourceBlockId: 'step1', sourcePortId: 'step1-out', targetBlockId: 'sum1', targetPortId: 'sum1-in1' },
      { id: 'conn2', sourceBlockId: 'sum1', sourcePortId: 'sum1-out', targetBlockId: 'gain_m', targetPortId: 'gain_m-in' },
      { id: 'conn3', sourceBlockId: 'gain_m', sourcePortId: 'gain_m-out', targetBlockId: 'int1', targetPortId: 'int1-in' },
      { id: 'conn4', sourceBlockId: 'int1', sourcePortId: 'int1-out', targetBlockId: 'int2', targetPortId: 'int2-in' },
      { id: 'conn5', sourceBlockId: 'int1', sourcePortId: 'int1-out', targetBlockId: 'gain_b', targetPortId: 'gain_b-in' },
      { id: 'conn6', sourceBlockId: 'int2', sourcePortId: 'int2-out', targetBlockId: 'gain_k', targetPortId: 'gain_k-in' },
      { id: 'conn7', sourceBlockId: 'gain_b', sourcePortId: 'gain_b-out', targetBlockId: 'sum1', targetPortId: 'sum1-in2' },
      { id: 'conn8', sourceBlockId: 'gain_k', sourcePortId: 'gain_k-out', targetBlockId: 'sum1', targetPortId: 'sum1-in3' },
      { id: 'conn9', sourceBlockId: 'int2', sourcePortId: 'int2-out', targetBlockId: 'scope1', targetPortId: 'scope1-in1' },
      { id: 'conn10', sourceBlockId: 'int1', sourcePortId: 'int1-out', targetBlockId: 'scope1', targetPortId: 'scope1-in2' },
    ],
    simulationConfig: { solver: 'rk4', startTime: 0, stopTime: 10, stepSize: 0.01 },
  },
  '05_signal_filtering': {
    id: 'example-signal-filtering',
    metadata: {
      name: 'Signal Filtering Comparison',
      description: 'Demonstrates signal processing blocks by filtering a composite signal (1Hz + 10Hz sine waves). Reference: https://www.mathworks.com/help/dsp/ref/lowpassfilter.html and https://www.mathworks.com/help/dsp/ref/movingaverage.html',
      author: 'LibreSim Examples',
      createdAt: '2024-01-01T00:00:00Z',
      modifiedAt: '2024-01-01T00:00:00Z',
      version: '1.0.0',
    },
    blocks: [
      {
        id: 'sine_low',
        type: 'sine_wave',
        name: 'Low Freq (1Hz)',
        position: { x: 50, y: 100 },
        parameters: { amplitude: 1.0, frequency: 1.0, phase: 0, bias: 0 },
        inputPorts: [],
        outputPorts: [{ id: 'sine_low-out', name: 'out', dataType: 'double', dimensions: [1] }],
      },
      {
        id: 'sine_high',
        type: 'sine_wave',
        name: 'High Freq (10Hz)',
        position: { x: 50, y: 200 },
        parameters: { amplitude: 0.3, frequency: 10.0, phase: 0, bias: 0 },
        inputPorts: [],
        outputPorts: [{ id: 'sine_high-out', name: 'out', dataType: 'double', dimensions: [1] }],
      },
      {
        id: 'sum1',
        type: 'sum',
        name: 'Combined',
        position: { x: 200, y: 150 },
        parameters: { signs: '++' },
        inputPorts: [
          { id: 'sum1-in1', name: 'in1', dataType: 'double', dimensions: [1] },
          { id: 'sum1-in2', name: 'in2', dataType: 'double', dimensions: [1] },
        ],
        outputPorts: [{ id: 'sum1-out', name: 'out', dataType: 'double', dimensions: [1] }],
      },
      {
        id: 'lpf1',
        type: 'low_pass_filter',
        name: 'LPF (2Hz)',
        position: { x: 380, y: 100 },
        parameters: { cutoffFrequency: 2.0 },
        inputPorts: [{ id: 'lpf1-in', name: 'in', dataType: 'double', dimensions: [1] }],
        outputPorts: [{ id: 'lpf1-out', name: 'out', dataType: 'double', dimensions: [1] }],
      },
      {
        id: 'mavg1',
        type: 'moving_average',
        name: 'Moving Avg',
        position: { x: 380, y: 200 },
        parameters: { windowSize: 20 },
        inputPorts: [{ id: 'mavg1-in', name: 'in', dataType: 'double', dimensions: [1] }],
        outputPorts: [{ id: 'mavg1-out', name: 'out', dataType: 'double', dimensions: [1] }],
      },
      {
        id: 'scope1',
        type: 'scope',
        name: 'Comparison',
        position: { x: 580, y: 150 },
        parameters: { numInputs: 3 },
        inputPorts: [
          { id: 'scope1-in1', name: 'in1', dataType: 'double', dimensions: [1] },
          { id: 'scope1-in2', name: 'in2', dataType: 'double', dimensions: [1] },
          { id: 'scope1-in3', name: 'in3', dataType: 'double', dimensions: [1] },
        ],
        outputPorts: [],
      },
    ],
    connections: [
      { id: 'conn1', sourceBlockId: 'sine_low', sourcePortId: 'sine_low-out', targetBlockId: 'sum1', targetPortId: 'sum1-in1' },
      { id: 'conn2', sourceBlockId: 'sine_high', sourcePortId: 'sine_high-out', targetBlockId: 'sum1', targetPortId: 'sum1-in2' },
      { id: 'conn3', sourceBlockId: 'sum1', sourcePortId: 'sum1-out', targetBlockId: 'lpf1', targetPortId: 'lpf1-in' },
      { id: 'conn4', sourceBlockId: 'sum1', sourcePortId: 'sum1-out', targetBlockId: 'mavg1', targetPortId: 'mavg1-in' },
      { id: 'conn5', sourceBlockId: 'sum1', sourcePortId: 'sum1-out', targetBlockId: 'scope1', targetPortId: 'scope1-in1' },
      { id: 'conn6', sourceBlockId: 'lpf1', sourcePortId: 'lpf1-out', targetBlockId: 'scope1', targetPortId: 'scope1-in2' },
      { id: 'conn7', sourceBlockId: 'mavg1', sourcePortId: 'mavg1-out', targetBlockId: 'scope1', targetPortId: 'scope1-in3' },
    ],
    simulationConfig: { solver: 'rk4', startTime: 0, stopTime: 5, stepSize: 0.001 },
  },
  '06_kalman_filter_estimation': {
    id: 'example-kalman-filter',
    metadata: {
      name: 'Kalman Filter State Estimation',
      description: 'Demonstrates Kalman filter for estimating a ramp signal. Reference: https://www.mathworks.com/help/control/ug/kalman-filtering.html',
      author: 'LibreSim Examples',
      createdAt: '2024-01-01T00:00:00Z',
      modifiedAt: '2024-01-01T00:00:00Z',
      version: '1.0.0',
    },
    blocks: [
      {
        id: 'ramp1',
        type: 'ramp',
        name: 'True Signal',
        position: { x: 50, y: 100 },
        parameters: { slope: 0.5, startTime: 0, initialOutput: 0 },
        inputPorts: [],
        outputPorts: [{ id: 'ramp1-out', name: 'out', dataType: 'double', dimensions: [1] }],
      },
      {
        id: 'const1',
        type: 'constant',
        name: 'Control (0)',
        position: { x: 50, y: 250 },
        parameters: { value: 0 },
        inputPorts: [],
        outputPorts: [{ id: 'const1-out', name: 'out', dataType: 'double', dimensions: [1] }],
      },
      {
        id: 'kalman1',
        type: 'kalman_filter',
        name: 'Kalman Filter',
        position: { x: 350, y: 175 },
        parameters: {
          A: [[1]],
          B: [[0.01]],
          C: [[1]],
          Q: [[0.001]],
          R: [[0.1]],
          initialState: [0],
          initialP: [[1]],
        },
        inputPorts: [
          { id: 'kalman1-in1', name: 'u', dataType: 'double', dimensions: [1] },
          { id: 'kalman1-in2', name: 'y', dataType: 'double', dimensions: [1] },
        ],
        outputPorts: [{ id: 'kalman1-out', name: 'x_hat', dataType: 'double', dimensions: [1] }],
      },
      {
        id: 'scope1',
        type: 'scope',
        name: 'Comparison',
        position: { x: 550, y: 150 },
        parameters: { numInputs: 2 },
        inputPorts: [
          { id: 'scope1-in1', name: 'in1', dataType: 'double', dimensions: [1] },
          { id: 'scope1-in2', name: 'in2', dataType: 'double', dimensions: [1] },
        ],
        outputPorts: [],
      },
    ],
    connections: [
      { id: 'conn1', sourceBlockId: 'const1', sourcePortId: 'const1-out', targetBlockId: 'kalman1', targetPortId: 'kalman1-in1' },
      { id: 'conn2', sourceBlockId: 'ramp1', sourcePortId: 'ramp1-out', targetBlockId: 'kalman1', targetPortId: 'kalman1-in2' },
      { id: 'conn3', sourceBlockId: 'ramp1', sourcePortId: 'ramp1-out', targetBlockId: 'scope1', targetPortId: 'scope1-in1' },
      { id: 'conn4', sourceBlockId: 'kalman1', sourcePortId: 'kalman1-out', targetBlockId: 'scope1', targetPortId: 'scope1-in2' },
    ],
    simulationConfig: { solver: 'rk4', startTime: 0, stopTime: 10, stepSize: 0.01 },
  },
  '07_thermostat_relay_control': {
    id: 'example-thermostat-relay',
    metadata: {
      name: 'Thermostat Relay Control (Bang-Bang)',
      description: 'Thermostat-style temperature control using a relay with hysteresis. Reference: https://www.mathworks.com/help/simulink/ug/model-a-house-heating-system.html',
      author: 'LibreSim Examples',
      createdAt: '2024-01-01T00:00:00Z',
      modifiedAt: '2024-01-01T00:00:00Z',
      version: '1.0.0',
    },
    blocks: [
      {
        id: 'setpoint',
        type: 'constant',
        name: 'Setpoint (20C)',
        position: { x: 50, y: 100 },
        parameters: { value: 20 },
        inputPorts: [],
        outputPorts: [{ id: 'setpoint-out', name: 'out', dataType: 'double', dimensions: [1] }],
      },
      {
        id: 'error_sum',
        type: 'sum',
        name: 'Error',
        position: { x: 180, y: 150 },
        parameters: { signs: '+-' },
        inputPorts: [
          { id: 'error_sum-in1', name: 'in1', dataType: 'double', dimensions: [1] },
          { id: 'error_sum-in2', name: 'in2', dataType: 'double', dimensions: [1] },
        ],
        outputPorts: [{ id: 'error_sum-out', name: 'out', dataType: 'double', dimensions: [1] }],
      },
      {
        id: 'relay1',
        type: 'relay',
        name: 'Thermostat',
        position: { x: 310, y: 150 },
        parameters: { switchOn: -2, switchOff: 2, outputOn: 5, outputOff: 0 },
        inputPorts: [{ id: 'relay1-in', name: 'in', dataType: 'double', dimensions: [1] }],
        outputPorts: [{ id: 'relay1-out', name: 'out', dataType: 'double', dimensions: [1] }],
      },
      {
        id: 'heat_loss',
        type: 'gain',
        name: 'Heat Loss',
        position: { x: 310, y: 280 },
        parameters: { gain: -0.1 },
        inputPorts: [{ id: 'heat_loss-in', name: 'in', dataType: 'double', dimensions: [1] }],
        outputPorts: [{ id: 'heat_loss-out', name: 'out', dataType: 'double', dimensions: [1] }],
      },
      {
        id: 'net_heat',
        type: 'sum',
        name: 'Net Heat',
        position: { x: 450, y: 200 },
        parameters: { signs: '++' },
        inputPorts: [
          { id: 'net_heat-in1', name: 'in1', dataType: 'double', dimensions: [1] },
          { id: 'net_heat-in2', name: 'in2', dataType: 'double', dimensions: [1] },
        ],
        outputPorts: [{ id: 'net_heat-out', name: 'out', dataType: 'double', dimensions: [1] }],
      },
      {
        id: 'room',
        type: 'integrator',
        name: 'Room Temp',
        position: { x: 580, y: 200 },
        parameters: { initialCondition: 15 },
        inputPorts: [{ id: 'room-in', name: 'in', dataType: 'double', dimensions: [1] }],
        outputPorts: [{ id: 'room-out', name: 'out', dataType: 'double', dimensions: [1] }],
      },
      {
        id: 'scope1',
        type: 'scope',
        name: 'Temperature',
        position: { x: 750, y: 150 },
        parameters: { numInputs: 3 },
        inputPorts: [
          { id: 'scope1-in1', name: 'in1', dataType: 'double', dimensions: [1] },
          { id: 'scope1-in2', name: 'in2', dataType: 'double', dimensions: [1] },
          { id: 'scope1-in3', name: 'in3', dataType: 'double', dimensions: [1] },
        ],
        outputPorts: [],
      },
    ],
    connections: [
      { id: 'conn1', sourceBlockId: 'setpoint', sourcePortId: 'setpoint-out', targetBlockId: 'error_sum', targetPortId: 'error_sum-in1' },
      { id: 'conn2', sourceBlockId: 'room', sourcePortId: 'room-out', targetBlockId: 'error_sum', targetPortId: 'error_sum-in2' },
      { id: 'conn3', sourceBlockId: 'error_sum', sourcePortId: 'error_sum-out', targetBlockId: 'relay1', targetPortId: 'relay1-in' },
      { id: 'conn4', sourceBlockId: 'relay1', sourcePortId: 'relay1-out', targetBlockId: 'net_heat', targetPortId: 'net_heat-in1' },
      { id: 'conn5', sourceBlockId: 'room', sourcePortId: 'room-out', targetBlockId: 'heat_loss', targetPortId: 'heat_loss-in' },
      { id: 'conn6', sourceBlockId: 'heat_loss', sourcePortId: 'heat_loss-out', targetBlockId: 'net_heat', targetPortId: 'net_heat-in2' },
      { id: 'conn7', sourceBlockId: 'net_heat', sourcePortId: 'net_heat-out', targetBlockId: 'room', targetPortId: 'room-in' },
      { id: 'conn8', sourceBlockId: 'setpoint', sourcePortId: 'setpoint-out', targetBlockId: 'scope1', targetPortId: 'scope1-in1' },
      { id: 'conn9', sourceBlockId: 'room', sourcePortId: 'room-out', targetBlockId: 'scope1', targetPortId: 'scope1-in2' },
      { id: 'conn10', sourceBlockId: 'relay1', sourcePortId: 'relay1-out', targetBlockId: 'scope1', targetPortId: 'scope1-in3' },
    ],
    simulationConfig: { solver: 'rk4', startTime: 0, stopTime: 100, stepSize: 0.1 },
  },
  '08_lookup_table_nonlinear': {
    id: 'example-lookup-table',
    metadata: {
      name: 'Lookup Table Nonlinearity',
      description: 'Demonstrates 1D lookup table for modeling nonlinear characteristics. Reference: https://www.mathworks.com/help/simulink/slref/1dlookuptable.html',
      author: 'LibreSim Examples',
      createdAt: '2024-01-01T00:00:00Z',
      modifiedAt: '2024-01-01T00:00:00Z',
      version: '1.0.0',
    },
    blocks: [
      {
        id: 'sine1',
        type: 'sine_wave',
        name: 'Input Signal',
        position: { x: 50, y: 150 },
        parameters: { amplitude: 2.0, frequency: 0.5, phase: 0, bias: 0 },
        inputPorts: [],
        outputPorts: [{ id: 'sine1-out', name: 'out', dataType: 'double', dimensions: [1] }],
      },
      {
        id: 'lut1',
        type: 'lookup_table_1d',
        name: 'Soft Saturation',
        position: { x: 250, y: 150 },
        parameters: {
          xData: [-3, -2, -1, -0.5, 0, 0.5, 1, 2, 3],
          yData: [-1.0, -0.95, -0.8, -0.45, 0, 0.45, 0.8, 0.95, 1.0],
        },
        inputPorts: [{ id: 'lut1-in', name: 'in', dataType: 'double', dimensions: [1] }],
        outputPorts: [{ id: 'lut1-out', name: 'out', dataType: 'double', dimensions: [1] }],
      },
      {
        id: 'sat1',
        type: 'saturation',
        name: 'Hard Saturation',
        position: { x: 250, y: 280 },
        parameters: { upperLimit: 1, lowerLimit: -1 },
        inputPorts: [{ id: 'sat1-in', name: 'in', dataType: 'double', dimensions: [1] }],
        outputPorts: [{ id: 'sat1-out', name: 'out', dataType: 'double', dimensions: [1] }],
      },
      {
        id: 'scope1',
        type: 'scope',
        name: 'Comparison',
        position: { x: 480, y: 200 },
        parameters: { numInputs: 3 },
        inputPorts: [
          { id: 'scope1-in1', name: 'in1', dataType: 'double', dimensions: [1] },
          { id: 'scope1-in2', name: 'in2', dataType: 'double', dimensions: [1] },
          { id: 'scope1-in3', name: 'in3', dataType: 'double', dimensions: [1] },
        ],
        outputPorts: [],
      },
    ],
    connections: [
      { id: 'conn1', sourceBlockId: 'sine1', sourcePortId: 'sine1-out', targetBlockId: 'lut1', targetPortId: 'lut1-in' },
      { id: 'conn2', sourceBlockId: 'sine1', sourcePortId: 'sine1-out', targetBlockId: 'sat1', targetPortId: 'sat1-in' },
      { id: 'conn3', sourceBlockId: 'sine1', sourcePortId: 'sine1-out', targetBlockId: 'scope1', targetPortId: 'scope1-in1' },
      { id: 'conn4', sourceBlockId: 'lut1', sourcePortId: 'lut1-out', targetBlockId: 'scope1', targetPortId: 'scope1-in2' },
      { id: 'conn5', sourceBlockId: 'sat1', sourcePortId: 'sat1-out', targetBlockId: 'scope1', targetPortId: 'scope1-in3' },
    ],
    simulationConfig: { solver: 'rk4', startTime: 0, stopTime: 10, stepSize: 0.01 },
  },
  '09_second_order_damping': {
    id: 'example-second-order-damping',
    metadata: {
      name: 'Second-Order Damping',
      description: 'Comparison of different damping ratios (underdamped, critically damped, overdamped). Reference: https://ctms.engin.umich.edu/CTMS/index.php?example=Introduction&section=SystemAnalysis',
      author: 'LibreSim Examples',
      createdAt: '2024-01-01T00:00:00Z',
      modifiedAt: '2024-01-01T00:00:00Z',
      version: '1.0.0',
    },
    blocks: [
      {
        id: 'step1',
        type: 'step',
        name: 'Step',
        position: { x: 50, y: 200 },
        parameters: { stepTime: 0.5, initialValue: 0, finalValue: 1 },
        inputPorts: [],
        outputPorts: [{ id: 'step1-out', name: 'out', dataType: 'double', dimensions: [1] }],
      },
      {
        id: 'tf_under',
        type: 'transfer_function',
        name: 'Underdamped',
        position: { x: 250, y: 100 },
        parameters: { numerator: [1], denominator: [1, 0.5, 1] },
        inputPorts: [{ id: 'tf_under-in', name: 'in', dataType: 'double', dimensions: [1] }],
        outputPorts: [{ id: 'tf_under-out', name: 'out', dataType: 'double', dimensions: [1] }],
      },
      {
        id: 'tf_crit',
        type: 'transfer_function',
        name: 'Critical',
        position: { x: 250, y: 200 },
        parameters: { numerator: [1], denominator: [1, 2, 1] },
        inputPorts: [{ id: 'tf_crit-in', name: 'in', dataType: 'double', dimensions: [1] }],
        outputPorts: [{ id: 'tf_crit-out', name: 'out', dataType: 'double', dimensions: [1] }],
      },
      {
        id: 'tf_over',
        type: 'transfer_function',
        name: 'Overdamped',
        position: { x: 250, y: 300 },
        parameters: { numerator: [1], denominator: [1, 4, 1] },
        inputPorts: [{ id: 'tf_over-in', name: 'in', dataType: 'double', dimensions: [1] }],
        outputPorts: [{ id: 'tf_over-out', name: 'out', dataType: 'double', dimensions: [1] }],
      },
      {
        id: 'scope1',
        type: 'scope',
        name: 'Compare',
        position: { x: 480, y: 200 },
        parameters: { numInputs: 3 },
        inputPorts: [
          { id: 'scope1-in1', name: 'in1', dataType: 'double', dimensions: [1] },
          { id: 'scope1-in2', name: 'in2', dataType: 'double', dimensions: [1] },
          { id: 'scope1-in3', name: 'in3', dataType: 'double', dimensions: [1] },
        ],
        outputPorts: [],
      },
    ],
    connections: [
      { id: 'conn1', sourceBlockId: 'step1', sourcePortId: 'step1-out', targetBlockId: 'tf_under', targetPortId: 'tf_under-in' },
      { id: 'conn2', sourceBlockId: 'step1', sourcePortId: 'step1-out', targetBlockId: 'tf_crit', targetPortId: 'tf_crit-in' },
      { id: 'conn3', sourceBlockId: 'step1', sourcePortId: 'step1-out', targetBlockId: 'tf_over', targetPortId: 'tf_over-in' },
      { id: 'conn4', sourceBlockId: 'tf_under', sourcePortId: 'tf_under-out', targetBlockId: 'scope1', targetPortId: 'scope1-in1' },
      { id: 'conn5', sourceBlockId: 'tf_crit', sourcePortId: 'tf_crit-out', targetBlockId: 'scope1', targetPortId: 'scope1-in2' },
      { id: 'conn6', sourceBlockId: 'tf_over', sourcePortId: 'tf_over-out', targetBlockId: 'scope1', targetPortId: 'scope1-in3' },
    ],
    simulationConfig: { solver: 'rk4', startTime: 0, stopTime: 15, stepSize: 0.01 },
  },
  '10_rate_limiting_quantization': {
    id: 'example-rate-limit-quantize',
    metadata: {
      name: 'Rate Limiting and Quantization Effects',
      description: 'Demonstrates actuator limitations: rate limiting and quantization. Reference: https://www.mathworks.com/help/simulink/slref/ratelimiter.html and https://www.mathworks.com/help/simulink/slref/quantizer.html',
      author: 'LibreSim Examples',
      createdAt: '2024-01-01T00:00:00Z',
      modifiedAt: '2024-01-01T00:00:00Z',
      version: '1.0.0',
    },
    blocks: [
      {
        id: 'sine1',
        type: 'sine_wave',
        name: 'Command',
        position: { x: 50, y: 150 },
        parameters: { amplitude: 5.0, frequency: 2.0, phase: 0, bias: 0 },
        inputPorts: [],
        outputPorts: [{ id: 'sine1-out', name: 'out', dataType: 'double', dimensions: [1] }],
      },
      {
        id: 'rate_lim',
        type: 'rate_limiter',
        name: 'Rate Limiter',
        position: { x: 250, y: 100 },
        parameters: { risingLimit: 10, fallingLimit: -10 },
        inputPorts: [{ id: 'rate_lim-in', name: 'in', dataType: 'double', dimensions: [1] }],
        outputPorts: [{ id: 'rate_lim-out', name: 'out', dataType: 'double', dimensions: [1] }],
      },
      {
        id: 'quant1',
        type: 'quantizer',
        name: 'Quantizer',
        position: { x: 250, y: 220 },
        parameters: { interval: 0.5 },
        inputPorts: [{ id: 'quant1-in', name: 'in', dataType: 'double', dimensions: [1] }],
        outputPorts: [{ id: 'quant1-out', name: 'out', dataType: 'double', dimensions: [1] }],
      },
      {
        id: 'rate_quant',
        type: 'rate_limiter',
        name: 'Rate + Quant',
        position: { x: 420, y: 320 },
        parameters: { risingLimit: 10, fallingLimit: -10 },
        inputPorts: [{ id: 'rate_quant-in', name: 'in', dataType: 'double', dimensions: [1] }],
        outputPorts: [{ id: 'rate_quant-out', name: 'out', dataType: 'double', dimensions: [1] }],
      },
      {
        id: 'quant2',
        type: 'quantizer',
        name: 'Then Quant',
        position: { x: 550, y: 320 },
        parameters: { interval: 0.5 },
        inputPorts: [{ id: 'quant2-in', name: 'in', dataType: 'double', dimensions: [1] }],
        outputPorts: [{ id: 'quant2-out', name: 'out', dataType: 'double', dimensions: [1] }],
      },
      {
        id: 'scope1',
        type: 'scope',
        name: 'Effects',
        position: { x: 700, y: 180 },
        parameters: { numInputs: 4 },
        inputPorts: [
          { id: 'scope1-in1', name: 'in1', dataType: 'double', dimensions: [1] },
          { id: 'scope1-in2', name: 'in2', dataType: 'double', dimensions: [1] },
          { id: 'scope1-in3', name: 'in3', dataType: 'double', dimensions: [1] },
          { id: 'scope1-in4', name: 'in4', dataType: 'double', dimensions: [1] },
        ],
        outputPorts: [],
      },
    ],
    connections: [
      { id: 'conn1', sourceBlockId: 'sine1', sourcePortId: 'sine1-out', targetBlockId: 'rate_lim', targetPortId: 'rate_lim-in' },
      { id: 'conn2', sourceBlockId: 'sine1', sourcePortId: 'sine1-out', targetBlockId: 'quant1', targetPortId: 'quant1-in' },
      { id: 'conn3', sourceBlockId: 'sine1', sourcePortId: 'sine1-out', targetBlockId: 'rate_quant', targetPortId: 'rate_quant-in' },
      { id: 'conn4', sourceBlockId: 'rate_quant', sourcePortId: 'rate_quant-out', targetBlockId: 'quant2', targetPortId: 'quant2-in' },
      { id: 'conn5', sourceBlockId: 'sine1', sourcePortId: 'sine1-out', targetBlockId: 'scope1', targetPortId: 'scope1-in1' },
      { id: 'conn6', sourceBlockId: 'rate_lim', sourcePortId: 'rate_lim-out', targetBlockId: 'scope1', targetPortId: 'scope1-in2' },
      { id: 'conn7', sourceBlockId: 'quant1', sourcePortId: 'quant1-out', targetBlockId: 'scope1', targetPortId: 'scope1-in3' },
      { id: 'conn8', sourceBlockId: 'quant2', sourcePortId: 'quant2-out', targetBlockId: 'scope1', targetPortId: 'scope1-in4' },
    ],
    simulationConfig: { solver: 'rk4', startTime: 0, stopTime: 3, stepSize: 0.001 },
  },
}

export function getExample(id: string): Model | undefined {
  return embeddedExamples[id]
}
